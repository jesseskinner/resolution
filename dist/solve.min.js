var solve=function(){"use strict";function n(n){return!n||!r(n)&&!e(n)}function r(n){return"function"==typeof n}function t(n){return n.constructor===Array}function e(n){return"object"==typeof n}function o(){throw new ReferenceError("Unable to add listener after calling destroy")}function f(e){var c,a,l,s,v,y=u.call(arguments,1),h=function(r){var t=e[r];n(t)||f(t,function(n){e[r]=n,v&&g(e)})},d=function(n){v=1,f(n,g)},g=function(n){var r;for(r=0;r<y.length;r++)n=y[r](n);if(c)for(r=0;r<c.length;r++)c[r](n);a=n},p=function(n){function r(r){for(var e=0;e<n.length;e++)r=n[e](r);t(r)}var t,e=f(function(n){t=n}),o=e.destroy;return r.destroy=e.destroy=function(){if(c)for(var n=0;n<c.length;n++)if(r===c[n]){c.splice(n,1);break}o()},c||(c=[]),c.push(r),r(a),e},b=function(){var n=u.call(arguments,0);return p(n)};if(n(e))g(e);else if(r(e))l=e(d),v||f(l,g);else if(r(e.then))e.then(d),v||g();else{if(t(e))for(s=0;s<e.length;s++)h(s);else for(s in e)i.call(e,s)&&h(s);v=1,g(e)}return b.destroy=function(){if(c){for(var n=0;n<c.length;n++)c[n].destroy();c=void 0}p=o},b}var i={}.hasOwnProperty,u=Array.prototype.slice;return f}();